{"version":3,"sources":["assets\\src\\G.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameRoot } from \"./shared/GameRoot\";\n\nclass GlobalInstance {\n\n    public static readonly Instance: GlobalInstance = new GlobalInstance();\n    public gameRoot: GameRoot = null;\n\n    private constructor() {\n    }\n\n    public enterHall() {\n        cc.director.loadScene(\"hall\");\n    }\n\n    public returnHall() {\n        cc.director.loadScene(\"hall\");\n    }\n\n    public enterGobang() {\n        this.loadSceneWithProgress(\"gobang\");\n    }\n\n    public enterReversi() {\n        this.loadSceneWithProgress(\"reversi\");\n    }\n\n    public enter2048() {\n        this.loadSceneWithProgress(\"2048\");\n    }\n\n    public enterJump() {\n        this.loadSceneWithProgress(\"jump\");\n    }\n\n    public enterPuzzle() {\n        this.loadSceneWithProgress(\"puzzle\");\n    }\n\n    public enterGet47() {\n        this.loadSceneWithProgress(\"get47\");\n    }\n\n    public enterTetris() {\n        this.loadSceneWithProgress(\"tetris\");\n    }\n\n    public enterMine() {\n        this.loadSceneWithProgress(\"mine\");\n    }\n\n    public enterLink() {\n        this.loadSceneWithProgress(\"link\");\n    }\n\n    public enterSnake() {\n        this.loadSceneWithProgress(\"snake\");\n    }\n\n    public enterBrick() {\n        this.loadSceneWithProgress(\"brick\");\n    }\n\n    public enterPinball() {\n        this.loadSceneWithProgress(\"pinball\");\n    }\n\n    private setLoadingDisplay() {\n        if (cc.sys.isNative) {\n            return;\n        }\n        // Loading splash scene\n        let splash = document.getElementById('splash');\n        let progressBar = splash.querySelector('.progress-bar span');\n        (cc.loader as any).onProgress = function (completedCount, totalCount, item) {\n            let percent = 100 * completedCount / totalCount;\n            if (progressBar) {\n                (progressBar as any).style.width = percent.toFixed(2) + '%';\n            }\n        };\n        splash.style.display = 'block';\n        (progressBar as any).style.width = '0%';\n\n        cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH, function () {\n            splash.style.display = 'none';\n        });\n    }\n\n    private loadSceneWithProgress(scene: string, cb?: Function) {\n        this.setLoadingDisplay();\n        cc.director.preloadScene(scene, () => {\n            setTimeout(() => {\n                cc.director.loadScene(scene, cb);\n            }, 1000);\n        });\n    }\n\n    public setResolutionPolicy() {\n        let f = function () {\n            if (cc.sys.isMobile) {\n                cc.log('手机场景适配');\n                cc.view.setDesignResolutionSize(720, 1280, cc.ResolutionPolicy.FIXED_WIDTH);\n               // cc.Canvas.instance['alignWithScreen']();\n            } else {\n                cc.log('电脑场景适配');\n                cc.view.setDesignResolutionSize(720, 1280, cc.ResolutionPolicy.SHOW_ALL);\n               // cc.Canvas.instance['alignWithScreen']();\n            }\n        }\n        f();\n        cc.director.on(cc.Director.EVENT_BEFORE_SCENE_LOADING, f);\n    }\n}\n\nexport const G = GlobalInstance.Instance;\n"]}