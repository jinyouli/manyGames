{"version":3,"sources":["assets\\src\\mine\\MinePiece.ts"],"names":[],"mappings":";;;;;;AAAA,+CAAqE;AAE/D,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA2B,yBAAY;IAAvC;QAAA,qEA0GC;QAvGW,iBAAW,GAAc,IAAI,CAAC;QAE9B,gBAAU,GAAmB,IAAI,CAAC;QAElC,aAAO,GAAmB,IAAI,CAAC;QAE/B,cAAQ,GAAmB,IAAI,CAAC;QAEhC,cAAQ,GAAmB,IAAI,CAAC;QAEhC,cAAQ,GAAmB,IAAI,CAAC;QAEhC,cAAQ,GAAmB,IAAI,CAAC;QAEhC,cAAQ,GAAmB,IAAI,CAAC;QAEhC,cAAQ,GAAmB,IAAI,CAAC;QAEhC,cAAQ,GAAmB,IAAI,CAAC;QAEhC,cAAQ,GAAmB,IAAI,CAAC;QAEhC,cAAQ,GAAmB,IAAI,CAAC;QAEhC,cAAQ,GAAmB,IAAI,CAAC;QAEjC,OAAC,GAAW,CAAC,CAAC;QACd,OAAC,GAAW,CAAC,CAAC;QACb,YAAM,GAAG,0BAAW,CAAC,OAAO,CAAC;QA0D7B,WAAK,GAAG,yBAAU,CAAC,KAAK,CAAC;;IAiBrC,CAAC;IAzEG,sBAAW,wBAAK;aAAhB;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aAED,UAAiB,KAAkB;YAC/B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,QAAQ,IAAI,CAAC,KAAK,EAAE;gBAChB,KAAK,0BAAW,CAAC,OAAO;oBACpB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC;oBAC/C,MAAM;gBACV,KAAK,0BAAW,CAAC,IAAI;oBACjB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC;oBAC5C,MAAM;gBACV,KAAK,0BAAW,CAAC,IAAI;oBACjB,IAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,MAAM;gBACV;oBACI,EAAE,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;oBAC3B,MAAM;aACb;QACL,CAAC;;;OAlBA;IAoBO,+BAAe,GAAvB;QACI,QAAQ,IAAI,CAAC,IAAI,EAAE;YACf,KAAK,yBAAU,CAAC,KAAK;gBACjB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7C,MAAM;YACV,KAAK,yBAAU,CAAC,KAAK;gBACjB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7C,MAAM;YACV,KAAK,yBAAU,CAAC,KAAK;gBACjB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7C,MAAM;YACV,KAAK,yBAAU,CAAC,KAAK;gBACjB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7C,MAAM;YACV,KAAK,yBAAU,CAAC,KAAK;gBACjB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7C,MAAM;YACV,KAAK,yBAAU,CAAC,KAAK;gBACjB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7C,MAAM;YACV,KAAK,yBAAU,CAAC,KAAK;gBACjB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7C,MAAM;YACV,KAAK,yBAAU,CAAC,KAAK;gBACjB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7C,MAAM;YACV,KAAK,yBAAU,CAAC,KAAK;gBACjB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7C,MAAM;YACV,KAAK,yBAAU,CAAC,IAAI;gBAChB,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC;SACpD;IACL,CAAC;IAID,sBAAW,uBAAI;aAAf;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;aACD,UAAgB,KAAgB;YAC5B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,eAAe,EAAE,CAAC;QAC3B,CAAC;;;OAJA;IAMD,oBAAI,GAAJ,UAAK,CAAS,EAAE,CAAS,EAAE,IAAgB,EAAE,KAAkB;QAC3D,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IArGD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;8CACkB;IAEtC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;6CACiB;IAE1C;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;0CACc;IAEvC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;2CACe;IAExC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;2CACe;IAExC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;2CACe;IAExC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;2CACe;IAExC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;2CACe;IAExC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;2CACe;IAExC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;2CACe;IAExC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;2CACe;IAExC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;2CACe;IAExC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;2CACe;IA3B/B,KAAK;QADjB,OAAO;OACK,KAAK,CA0GjB;IAAD,YAAC;CA1GD,AA0GC,CA1G0B,EAAE,CAAC,SAAS,GA0GtC;AA1GY,sBAAK","file":"","sourceRoot":"/","sourcesContent":["import { PIECE_STATE, PIECE_TYPE, PIECE_HINT } from \"./MineConstans\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport class Piece extends cc.Component {\n\n    @property(cc.Sprite)\n    private pieceSprite: cc.Sprite = null;\n    @property(cc.SpriteFrame)\n    private picPending: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    private picFlag: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    private picDeath: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    private picOpen0: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    private picOpen1: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    private picOpen2: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    private picOpen3: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    private picOpen4: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    private picOpen5: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    private picOpen6: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    private picOpen7: cc.SpriteFrame = null;\n    @property(cc.SpriteFrame)\n    private picOpen8: cc.SpriteFrame = null;\n\n    public x: number = 0;\n    public y: number = 0;\n    private _state = PIECE_STATE.PENDING;\n\n    public get state(): PIECE_STATE {\n        return this._state;\n    }\n\n    public set state(value: PIECE_STATE) {\n        this._state = value;\n        switch (this.state) {\n            case PIECE_STATE.PENDING:\n                this.pieceSprite.spriteFrame = this.picPending;\n                break;\n            case PIECE_STATE.FLAG:\n                this.pieceSprite.spriteFrame = this.picFlag;\n                break;\n            case PIECE_STATE.OPEN:\n                this.setSpriteByType();\n                break;\n            default:\n                cc.error(\"unknown state!\");\n                break;\n        }\n    }\n\n    private setSpriteByType() {\n        switch (this.type) {\n            case PIECE_TYPE.OPEN0:\n                this.pieceSprite.spriteFrame = this.picOpen0;\n                break;\n            case PIECE_TYPE.OPEN1:\n                this.pieceSprite.spriteFrame = this.picOpen1;\n                break;\n            case PIECE_TYPE.OPEN2:\n                this.pieceSprite.spriteFrame = this.picOpen2;\n                break;\n            case PIECE_TYPE.OPEN3:\n                this.pieceSprite.spriteFrame = this.picOpen3;\n                break;\n            case PIECE_TYPE.OPEN4:\n                this.pieceSprite.spriteFrame = this.picOpen4;\n                break;\n            case PIECE_TYPE.OPEN5:\n                this.pieceSprite.spriteFrame = this.picOpen5;\n                break;\n            case PIECE_TYPE.OPEN6:\n                this.pieceSprite.spriteFrame = this.picOpen6;\n                break;\n            case PIECE_TYPE.OPEN7:\n                this.pieceSprite.spriteFrame = this.picOpen7;\n                break;\n            case PIECE_TYPE.OPEN8:\n                this.pieceSprite.spriteFrame = this.picOpen8;\n                break;\n            case PIECE_TYPE.BOMB:\n                this.pieceSprite.spriteFrame = this.picDeath;\n        }\n    }\n\n    private _type = PIECE_TYPE.OPEN0;\n\n    public get type() {\n        return this._type;\n    }\n    public set type(value:PIECE_TYPE) {\n        this._type = value;\n        this.setSpriteByType();\n    }\n\n    init(x: number, y: number, type: PIECE_TYPE, state: PIECE_STATE) {\n        this.x = x;\n        this.y = y;\n        this.state = state;\n        this.type = type;\n    }\n\n}"]}